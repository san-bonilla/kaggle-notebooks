{"cells":[{"source":"<a href=\"https://www.kaggle.com/code/sanbonilla/a6-ejercicios-equipo-1?scriptVersionId=152783946\" target=\"_blank\"><img align=\"left\" alt=\"Kaggle\" title=\"Open in Kaggle\" src=\"https://kaggle.com/static/images/open-in-kaggle.svg\"></a>","metadata":{},"cell_type":"markdown"},{"cell_type":"markdown","id":"fcef1b1c","metadata":{"papermill":{"duration":0.002893,"end_time":"2023-11-28T23:23:51.885301","exception":false,"start_time":"2023-11-28T23:23:51.882408","status":"completed"},"tags":[]},"source":["# Análisis de series temporales de la tasa de desempleo en Canadá: Medias móviles centradas"]},{"cell_type":"markdown","id":"80b43ac2","metadata":{"papermill":{"duration":0.00198,"end_time":"2023-11-28T23:23:51.889665","exception":false,"start_time":"2023-11-28T23:23:51.887685","status":"completed"},"tags":[]},"source":["El siguiente conjunto de datos contiene los registros de tasa de desempleo en Canadá proporcionado por YCharts.\n","\n","* La columna **Date** tiene filas en formato String de las fechas en que se registró la tasa de desempleo en Canadá.\n","* La columna **Value** tiene filas en formato Double de la tasa de desempleo en Canadá"]},{"cell_type":"markdown","id":"84d36876","metadata":{"papermill":{"duration":0.001934,"end_time":"2023-11-28T23:23:51.893556","exception":false,"start_time":"2023-11-28T23:23:51.891622","status":"completed"},"tags":[]},"source":["## Carga de datos"]},{"cell_type":"code","execution_count":1,"id":"86eec24c","metadata":{"execution":{"iopub.execute_input":"2023-11-28T23:23:51.90192Z","iopub.status.busy":"2023-11-28T23:23:51.899752Z","iopub.status.idle":"2023-11-28T23:23:52.694675Z","shell.execute_reply":"2023-11-28T23:23:52.692965Z"},"papermill":{"duration":0.801783,"end_time":"2023-11-28T23:23:52.697278","exception":false,"start_time":"2023-11-28T23:23:51.895495","status":"completed"},"tags":[]},"outputs":[{"name":"stderr","output_type":"stream","text":["\u001b[1mRows: \u001b[22m\u001b[34m50\u001b[39m \u001b[1mColumns: \u001b[22m\u001b[34m2\u001b[39m\n","\u001b[36m──\u001b[39m \u001b[1mColumn specification\u001b[22m \u001b[36m────────────────────────────────────────────────────────\u001b[39m\n","\u001b[1mDelimiter:\u001b[22m \",\"\n","\u001b[31mchr\u001b[39m (1): Date\n","\u001b[32mdbl\u001b[39m (1): Value\n","\n","\u001b[36mℹ\u001b[39m Use `spec()` to retrieve the full column specification for this data.\n","\u001b[36mℹ\u001b[39m Specify the column types or set `show_col_types = FALSE` to quiet this message.\n"]},{"data":{"text/html":["<table class=\"dataframe\">\n","<caption>A tibble: 6 × 2</caption>\n","<thead>\n","\t<tr><th scope=col>Date</th><th scope=col>Value</th></tr>\n","\t<tr><th scope=col>&lt;date&gt;</th><th scope=col>&lt;dbl&gt;</th></tr>\n","</thead>\n","<tbody>\n","\t<tr><td>2019-09-30</td><td>5.6</td></tr>\n","\t<tr><td>2019-10-31</td><td>5.6</td></tr>\n","\t<tr><td>2019-11-30</td><td>5.9</td></tr>\n","\t<tr><td>2019-12-31</td><td>5.7</td></tr>\n","\t<tr><td>2020-01-31</td><td>5.6</td></tr>\n","\t<tr><td>2020-02-29</td><td>5.7</td></tr>\n","</tbody>\n","</table>\n"],"text/latex":["A tibble: 6 × 2\n","\\begin{tabular}{ll}\n"," Date & Value\\\\\n"," <date> & <dbl>\\\\\n","\\hline\n","\t 2019-09-30 & 5.6\\\\\n","\t 2019-10-31 & 5.6\\\\\n","\t 2019-11-30 & 5.9\\\\\n","\t 2019-12-31 & 5.7\\\\\n","\t 2020-01-31 & 5.6\\\\\n","\t 2020-02-29 & 5.7\\\\\n","\\end{tabular}\n"],"text/markdown":["\n","A tibble: 6 × 2\n","\n","| Date &lt;date&gt; | Value &lt;dbl&gt; |\n","|---|---|\n","| 2019-09-30 | 5.6 |\n","| 2019-10-31 | 5.6 |\n","| 2019-11-30 | 5.9 |\n","| 2019-12-31 | 5.7 |\n","| 2020-01-31 | 5.6 |\n","| 2020-02-29 | 5.7 |\n","\n"],"text/plain":["  Date       Value\n","1 2019-09-30 5.6  \n","2 2019-10-31 5.6  \n","3 2019-11-30 5.9  \n","4 2019-12-31 5.7  \n","5 2020-01-31 5.6  \n","6 2020-02-29 5.7  "]},"metadata":{},"output_type":"display_data"}],"source":["# Cargar el conjunto de datos desde un archivo CSV\n","df <- readr::read_csv('/kaggle/input/unemployment-rate-canada/Canada Unemployment Rate - Sheet1(1).csv')\n","# Cambiar el formato de la fecha\n","df$Date <- as.Date(df$Date, format=\"%B %d, %Y\")\n","# Multiplicar valores por 100 para obtener el porcentaje\n","df$Value <- df$Value * 100\n","# Ordenar el data frame por la columna \"Date\"\n","df <- df[order(df$Date),]\n","head(df)"]},{"cell_type":"markdown","id":"eace5621","metadata":{"papermill":{"duration":0.002785,"end_time":"2023-11-28T23:23:52.702919","exception":false,"start_time":"2023-11-28T23:23:52.700134","status":"completed"},"tags":[]},"source":["## Conversión de tasas de desempleo mensuales a trimestrales"]},{"cell_type":"code","execution_count":2,"id":"30aa51a3","metadata":{"execution":{"iopub.execute_input":"2023-11-28T23:23:52.740986Z","iopub.status.busy":"2023-11-28T23:23:52.71091Z","iopub.status.idle":"2023-11-28T23:23:53.125089Z","shell.execute_reply":"2023-11-28T23:23:53.123314Z"},"papermill":{"duration":0.421921,"end_time":"2023-11-28T23:23:53.127558","exception":false,"start_time":"2023-11-28T23:23:52.705637","status":"completed"},"tags":[]},"outputs":[{"name":"stderr","output_type":"stream","text":["\n","Attaching package: ‘lubridate’\n","\n","\n","The following objects are masked from ‘package:base’:\n","\n","    date, intersect, setdiff, union\n","\n","\n","\n","Attaching package: ‘dplyr’\n","\n","\n","The following objects are masked from ‘package:stats’:\n","\n","    filter, lag\n","\n","\n","The following objects are masked from ‘package:base’:\n","\n","    intersect, setdiff, setequal, union\n","\n","\n","\u001b[1m\u001b[22m`summarise()` has grouped output by 'Year'. You can override using the\n","`.groups` argument.\n"]},{"data":{"text/html":["<table class=\"dataframe\">\n","<caption>A grouped_df: 18 × 3</caption>\n","<thead>\n","\t<tr><th scope=col>Year</th><th scope=col>Trimestre</th><th scope=col>Value</th></tr>\n","\t<tr><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;int&gt;</th><th scope=col>&lt;dbl&gt;</th></tr>\n","</thead>\n","<tbody>\n","\t<tr><td>2019</td><td>3</td><td> 5.600000</td></tr>\n","\t<tr><td>2019</td><td>4</td><td> 5.733333</td></tr>\n","\t<tr><td>2020</td><td>1</td><td> 6.400000</td></tr>\n","\t<tr><td>2020</td><td>2</td><td>12.866667</td></tr>\n","\t<tr><td>2020</td><td>3</td><td>10.133333</td></tr>\n","\t<tr><td>2020</td><td>4</td><td> 8.933333</td></tr>\n","\t<tr><td>2021</td><td>1</td><td> 8.433333</td></tr>\n","\t<tr><td>2021</td><td>2</td><td> 8.066667</td></tr>\n","\t<tr><td>2021</td><td>3</td><td> 7.266667</td></tr>\n","\t<tr><td>2021</td><td>4</td><td> 6.266667</td></tr>\n","\t<tr><td>2022</td><td>1</td><td> 5.733333</td></tr>\n","\t<tr><td>2022</td><td>2</td><td> 5.133333</td></tr>\n","\t<tr><td>2022</td><td>3</td><td> 5.133333</td></tr>\n","\t<tr><td>2022</td><td>4</td><td> 5.100000</td></tr>\n","\t<tr><td>2023</td><td>1</td><td> 5.000000</td></tr>\n","\t<tr><td>2023</td><td>2</td><td> 5.200000</td></tr>\n","\t<tr><td>2023</td><td>3</td><td> 5.500000</td></tr>\n","\t<tr><td>2023</td><td>4</td><td> 5.700000</td></tr>\n","</tbody>\n","</table>\n"],"text/latex":["A grouped\\_df: 18 × 3\n","\\begin{tabular}{lll}\n"," Year & Trimestre & Value\\\\\n"," <dbl> & <int> & <dbl>\\\\\n","\\hline\n","\t 2019 & 3 &  5.600000\\\\\n","\t 2019 & 4 &  5.733333\\\\\n","\t 2020 & 1 &  6.400000\\\\\n","\t 2020 & 2 & 12.866667\\\\\n","\t 2020 & 3 & 10.133333\\\\\n","\t 2020 & 4 &  8.933333\\\\\n","\t 2021 & 1 &  8.433333\\\\\n","\t 2021 & 2 &  8.066667\\\\\n","\t 2021 & 3 &  7.266667\\\\\n","\t 2021 & 4 &  6.266667\\\\\n","\t 2022 & 1 &  5.733333\\\\\n","\t 2022 & 2 &  5.133333\\\\\n","\t 2022 & 3 &  5.133333\\\\\n","\t 2022 & 4 &  5.100000\\\\\n","\t 2023 & 1 &  5.000000\\\\\n","\t 2023 & 2 &  5.200000\\\\\n","\t 2023 & 3 &  5.500000\\\\\n","\t 2023 & 4 &  5.700000\\\\\n","\\end{tabular}\n"],"text/markdown":["\n","A grouped_df: 18 × 3\n","\n","| Year &lt;dbl&gt; | Trimestre &lt;int&gt; | Value &lt;dbl&gt; |\n","|---|---|---|\n","| 2019 | 3 |  5.600000 |\n","| 2019 | 4 |  5.733333 |\n","| 2020 | 1 |  6.400000 |\n","| 2020 | 2 | 12.866667 |\n","| 2020 | 3 | 10.133333 |\n","| 2020 | 4 |  8.933333 |\n","| 2021 | 1 |  8.433333 |\n","| 2021 | 2 |  8.066667 |\n","| 2021 | 3 |  7.266667 |\n","| 2021 | 4 |  6.266667 |\n","| 2022 | 1 |  5.733333 |\n","| 2022 | 2 |  5.133333 |\n","| 2022 | 3 |  5.133333 |\n","| 2022 | 4 |  5.100000 |\n","| 2023 | 1 |  5.000000 |\n","| 2023 | 2 |  5.200000 |\n","| 2023 | 3 |  5.500000 |\n","| 2023 | 4 |  5.700000 |\n","\n"],"text/plain":["   Year Trimestre Value    \n","1  2019 3          5.600000\n","2  2019 4          5.733333\n","3  2020 1          6.400000\n","4  2020 2         12.866667\n","5  2020 3         10.133333\n","6  2020 4          8.933333\n","7  2021 1          8.433333\n","8  2021 2          8.066667\n","9  2021 3          7.266667\n","10 2021 4          6.266667\n","11 2022 1          5.733333\n","12 2022 2          5.133333\n","13 2022 3          5.133333\n","14 2022 4          5.100000\n","15 2023 1          5.000000\n","16 2023 2          5.200000\n","17 2023 3          5.500000\n","18 2023 4          5.700000"]},"metadata":{},"output_type":"display_data"}],"source":["library(lubridate)\n","library(dplyr)\n","\n","# Crear una nueva columna para el trimestre y una para el año\n","df$Trimestre <- lubridate::quarter(df$Date)\n","df$Year <- year(df$Date)\n","\n","# Calcular la tasa de desempleo trimestral como promedio\n","tasas_trimestrales <- df %>%\n","# agrupar el dataframe por la columna Year y Trimestre\n","  group_by(Year, Trimestre) %>%\n","# calcular la media de la columna Value para cada grupo de trimestre\n","  summarise(Value = mean(Value, na.rm = TRUE))\n","\n","# Mostrar las tasas de desempleo trimestrales\n","View(tasas_trimestrales)"]}],"metadata":{"kaggle":{"accelerator":"none","dataSources":[{"datasetId":4076339,"sourceId":7076892,"sourceType":"datasetVersion"}],"dockerImageVersionId":30582,"isGpuEnabled":false,"isInternetEnabled":true,"language":"r","sourceType":"notebook"},"kernelspec":{"display_name":"R","language":"R","name":"ir"},"language_info":{"codemirror_mode":"r","file_extension":".r","mimetype":"text/x-r-source","name":"R","pygments_lexer":"r","version":"4.0.5"},"papermill":{"default_parameters":{},"duration":5.173478,"end_time":"2023-11-28T23:23:53.253788","environment_variables":{},"exception":null,"input_path":"__notebook__.ipynb","output_path":"__notebook__.ipynb","parameters":{},"start_time":"2023-11-28T23:23:48.08031","version":"2.4.0"}},"nbformat":4,"nbformat_minor":5}